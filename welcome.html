<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1">
<title>Welcome to Ming Yang's Portfolio</title>
<base href="/portfolio/">
<link rel="stylesheet" href="styles.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
<style>
       @media (prefers-reduced-motion) {
           * {
               animation: none !important;
               transition: none !important;
           }
       }
</style>
</head>
<body>
<canvas id="three-canvas"></canvas>
<script type="module">
       import * as THREE from 'https://unpkg.com/three@0.168/build/three.module.js';
       import { FontLoader } from 'https://unpkg.com/three@0.168/examples/jsm/loaders/FontLoader.js';
       import { TextGeometry } from 'https://unpkg.com/three@0.168/examples/jsm/geometries/TextGeometry.js';
       import { OrbitControls } from 'https://unpkg.com/three@0.168/examples/jsm/controls/OrbitControls.js';
       import { EffectComposer } from 'https://unpkg.com/three@0.168/examples/jsm/postprocessing/EffectComposer.js';
       import { RenderPass } from 'https://unpkg.com/three@0.168/examples/jsm/postprocessing/RenderPass.js';
       import { UnrealBloomPass } from 'https://unpkg.com/three@0.168/examples/jsm/postprocessing/UnrealBloomPass.js';
       // Check for saved theme
       const theme = localStorage.getItem('theme');
       if (theme === 'dark') {
           document.body.classList.add('dark-mode');
       }
       const isDark = document.body.classList.contains('dark-mode');
       // Scene setup
       const scene = new THREE.Scene();
       scene.background = new THREE.Color(isDark ? 0x000000 : 0xffffff);
       const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
       camera.position.set(0, 0, 50);
       const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('three-canvas'), antialias: true });
       renderer.setSize(window.innerWidth, window.innerHeight);
       renderer.setPixelRatio(window.devicePixelRatio);
       // Postprocessing
       const composer = new EffectComposer(renderer);
       const renderPass = new RenderPass(scene, camera);
       composer.addPass(renderPass);
       const bloomPass = new UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 1.5, 0.4, 0.85);
       bloomPass.threshold = isDark ? 0 : 0.6;
       bloomPass.strength = isDark ? 1.2 : 0.8;
       bloomPass.radius = 0.1;
       composer.addPass(bloomPass);
       // Controls
       const controls = new OrbitControls(camera, renderer.domElement);
       controls.enableDamping = true;
       controls.dampingFactor = 0.05;
       // Lights
       const ambientLight = new THREE.AmbientLight(0xffffff, isDark ? 0.5 : 1);
       scene.add(ambientLight);
       const pointLight = new THREE.PointLight(0xffffff, isDark ? 1 : 0.8, 100);
       pointLight.position.set(10, 10, 10);
       scene.add(pointLight);
       // Particles
       const particleCount = 5000;
       const positions = new Float32Array(particleCount * 3);
       for (let i = 0; i < particleCount * 3; i++) {
           positions[i] = THREE.MathUtils.randFloatSpread(200);
       }
       const particleGeometry = new THREE.BufferGeometry();
       particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
       const particleMaterial = new THREE.PointsMaterial({
           color: isDark ? 0xffffff : 0x000000,
           size: 0.2,
           transparent: true,
           opacity: 0.8,
           blending: THREE.AdditiveBlending
       });
       const particles = new THREE.Points(particleGeometry, particleMaterial);
       const particleGroup = new THREE.Group();
       particleGroup.add(particles);
       scene.add(particleGroup);
       // Load font and create text
       const fontLoader = new FontLoader();
       fontLoader.load('https://unpkg.com/three@0.168/examples/fonts/helvetiker_regular.typeface.json', (font) => {
           // Welcome text
           const welcomeGeometry = new TextGeometry('Welcome to\nMing Yang\'s Portfolio', {
               font: font,
               size: 5,
               depth: 1,
               curveSegments: 12,
               bevelEnabled: true,
               bevelThickness: 0.5,
               bevelSize: 0.3,
               bevelSegments: 5
           });
           welcomeGeometry.center();
           const welcomeMaterial = new THREE.MeshStandardMaterial({
               color: isDark ? 0x3498db : 0x2c3e50,
               emissive: isDark ? 0x3498db : 0x000000,
               emissiveIntensity: isDark ? 1 : 0,
               roughness: 0.5,
               metalness: 0.5
           });
           const welcomeText = new THREE.Mesh(welcomeGeometry, welcomeMaterial);
           welcomeText.position.set(0, 10, 0);
           scene.add(welcomeText);
           // Enter text (button)
           const enterGeometry = new TextGeometry('Click here to enter', {
               font: font,
               size: 3,
               depth: 0.5,
               curveSegments: 12,
               bevelEnabled: true,
               bevelThickness: 0.3,
               bevelSize: 0.2,
               bevelSegments: 3
           });
           enterGeometry.center();
           const enterMaterial = new THREE.MeshStandardMaterial({
               color: isDark ? 0x9b59b6 : 0x7f8c8d,
               emissive: isDark ? 0x9b59b6 : 0x000000,
               emissiveIntensity: isDark ? 1 : 0,
               roughness: 0.4,
               metalness: 0.6
           });
           const enterText = new THREE.Mesh(enterGeometry, enterMaterial);
           enterText.position.set(0, -10, 0);
           scene.add(enterText);
           // Raycaster for clicking enter text
           const raycaster = new THREE.Raycaster();
           const mouse = new THREE.Vector2();
           function onClick(event) {
               mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
               mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
               raycaster.setFromCamera(mouse, camera);
               const intersects = raycaster.intersectObject(enterText);
               if (intersects.length > 0) {
                   window.location.href = 'index.html';
               }
           }
           window.addEventListener('click', onClick);
       });
       // Animation loop
       let time = 0;
       function animate() {
           requestAnimationFrame(animate);
           time += 0.01;
           // Rotate particles
           particleGroup.rotation.y += 0.0005;
           // Update controls
           controls.update();
           composer.render();
       }
       animate();
       // Handle resize
       window.addEventListener('resize', () => {
           camera.aspect = window.innerWidth / window.innerHeight;
           camera.updateProjectionMatrix();
           renderer.setSize(window.innerWidth, window.innerHeight);
           composer.setSize(window.innerWidth, window.innerHeight);
       });
</script>
</body>
</html>